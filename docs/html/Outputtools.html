<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<h1 id="output-data-tools">Output data tools <a id="outputtools"></a></h1>
<p>The following components convert the binary output of each calculation component to csv format;</p>
<ul>
<li><strong><a href="#cdftocsv">cdftocsv</a></strong> is a utility to convert binary format CDFs to a csv. getmodel standard output can be streamed directly into cdftocsv, or a binary file of the same format can be input.</li>
<li><strong><a href="#gultocsv">gultocsv</a></strong> is a utility to convert binary format GULs to a csv. gulcalc standard output can be streamed directly into gultocsv, or a binary file of the same format can be input.</li>
<li><strong><a href="#fmtocsv">fmtocsv</a></strong> is a utility to convert binary format losses to a csv. fmcalc standard output can be streamed directly into fmtocsv, or a binary file of the same format can be input.</li>
</ul>
<p>Figure 1 shows the workflows for the data conversion components.</p>
<h5 id="figure-1.-data-conversion-workflows">Figure 1. Data Conversion Workflows</h5>
<p><img src="../img/Dbtools2.jpg" title="Data Conversion Workflows" alt="alt text" /></p>
<h2 id="cdftocsv">cdftocsv <a id="cdftocsv"></a></h2>
<p>A component which converts the getmodel output stream, or binary file with the same structure, to a csv file.</p>
<h5 id="stdin-stream_id">Stdin stream_id</h5>
<table>
<thead>
<tr class="header">
<th align="left">Byte 1</th>
<th align="left">Bytes 2-4</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="left">1</td>
<td align="left">getmodel stdout</td>
</tr>
</tbody>
</table>
<p>A binary file of the same format can be piped into cdftocsv.</p>
<h5 id="usage">Usage</h5>
<pre><code>$ [stdin component] | cdftocsv &gt; [output].csv
$ cdftocsv &lt; [stdin].bin &gt; [output].csv</code></pre>
<h5 id="example">Example</h5>
<pre><code>$ eve 1 1 1 | getmodel | cdftocsv &gt; cdf.csv
$ cdftocsv &lt; getmodel.bin &gt; cdf.csv </code></pre>
<h5 id="output">Output</h5>
<p>Csv file with the following fields;</p>
<table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Bytes</th>
<th align="left">Description</th>
<th align="right">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">event_id</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Oasis event_id</td>
<td align="right">4545</td>
</tr>
<tr class="even">
<td align="left">areaperil_id</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Oasis areaperil_id</td>
<td align="right">345456</td>
</tr>
<tr class="odd">
<td align="left">vulnerability_id</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Oasis vulnerability_id</td>
<td align="right">345</td>
</tr>
<tr class="even">
<td align="left">bin_index</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Damage bin index</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">prob_to</td>
<td align="left">float</td>
<td align="left">4</td>
<td align="left">The cumulative probability at the upper damage bin threshold</td>
<td align="right">0.765</td>
</tr>
<tr class="even">
<td align="left">bin_mean</td>
<td align="left">float</td>
<td align="left">4</td>
<td align="left">The conditional mean of the damage bin</td>
<td align="right">0.45</td>
</tr>
</tbody>
</table>
<p><a href="#outputtools">Return to top</a></p>
<h2 id="gultocsv">gultocsv <a id="gultocsv"></a></h2>
<p>A component which converts the gulcalc output stream, or binary file with the same structure, to a csv file.</p>
<h5 id="stdin-stream_id-1">Stdin stream_id</h5>
<table>
<thead>
<tr class="header">
<th align="left">Byte 1</th>
<th align="left">Bytes 2-4</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">1</td>
<td align="left">gulcalc stdout</td>
</tr>
</tbody>
</table>
<p>A binary file of the same format can be piped into gultocsv.</p>
<h5 id="usage-1">Usage</h5>
<pre><code>$ [stdin component] | gultocsv &gt; [output].csv
$ gultocsv &lt; [stdin].bin &gt; [output].csv</code></pre>
<h5 id="example-1">Example</h5>
<pre><code>$ eve 1 1 1 | getmodel | gulcalc -S100 -C1 | gultocsv &gt; gulcalc.csv
$ gultocsv &lt; gulcalc.bin &gt; gulcalc.csv </code></pre>
<h5 id="output-1">Output</h5>
<p>Csv file with the following fields;</p>
<table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Bytes</th>
<th align="left">Description</th>
<th align="right">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">event_id</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Oasis event_id</td>
<td align="right">4545</td>
</tr>
<tr class="even">
<td align="left">item_id</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Oasis item_id</td>
<td align="right">300</td>
</tr>
<tr class="odd">
<td align="left">sidx</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Sample index</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">gul</td>
<td align="left">float</td>
<td align="left">4</td>
<td align="left">The ground up loss value</td>
<td align="right">5675.675</td>
</tr>
</tbody>
</table>
<p><a href="#outputtools">Return to top</a></p>
<h2 id="fmtocsv">fmtocsv <a id="fmtocsv"></a></h2>
<p>A component which converts the fmcalc output stream, or binary file with the same structure, to a csv file.</p>
<h5 id="stdin-stream_id-2">Stdin stream_id</h5>
<table>
<thead>
<tr class="header">
<th align="left">Byte 1</th>
<th align="left">Bytes 2-4</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2</td>
<td align="left">1</td>
<td align="left">fmcalc stdout</td>
</tr>
</tbody>
</table>
<p>A binary file of the same format can be piped into fmtocsv.</p>
<h5 id="usage-2">Usage</h5>
<pre><code>$ [stdin component] | fmtocsv &gt; [output].csv
$ fmtocsv &lt; [stdin].bin &gt; [output].csv</code></pre>
<h5 id="example-2">Example</h5>
<pre><code>$ eve 1 1 1 | getmodel | gulcalc -S100 -C1 | fmcalc | fmtocsv &gt; fmcalc.csv
$ fmtocsv &lt; fmcalc.bin &gt; fmcalc.csv </code></pre>
<h5 id="input">Input</h5>
<p>Same as fmcalc output or a binary file of the same format can be piped into fmtocsv.</p>
<h5 id="output-2">Output</h5>
<p>Csv file with the following fields;</p>
<table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Bytes</th>
<th align="left">Description</th>
<th align="right">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">event_id</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Oasis event_id</td>
<td align="right">4545</td>
</tr>
<tr class="even">
<td align="left">prog_id</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Oasis prog_id</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">layer_id</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Oasis layer_id</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">output_id</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Oasis output_id</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">sidx</td>
<td align="left">int</td>
<td align="left">4</td>
<td align="left">Sample index</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">loss</td>
<td align="left">float</td>
<td align="left">4</td>
<td align="left">The insured loss value</td>
<td align="right">5375.675</td>
</tr>
</tbody>
</table>
<p><a href="#outputtools">Return to top</a></p>
<p><a href="PlannedWork.html">Go to Planned work</a></p>
<p><a href="Contents.html">Back to Contents</a></p>
</body>
</html>
